br_swap_religion_effect = {
	
	#set the new religion in ifelse statements
		if = {
			limit = {
				br_country_can_convert_to_norse = yes
			}
			br_swap_to_norse_effect = yes
		}


	#remaining generic effects
	
	#convert a some pops to have a initial population of pop's with the new religion
	random_scope_state = {
		limit = {
			owner = ROOT
			is_capital = yes
		}
		convert_population = {
			target = root.religion #the new religion
			value = 0.25
		}
	}
	every_scope_state = {
		limit = {
			owner = ROOT
			is_incorporated = yes
			NOT = { is_capital = yes }
		}
		convert_population = {
			target = root.religion
			value = 0.15
		}
	}
	#make the newly converted pops loyal
	if = {
		limit = {
			any_scope_pop = { 
				religion = root.religion
			}
		}
		add_loyalists = {
			religion = root.religion
			value = 0.25
		}
	}
	ROOT = {
		#add radicals for among the followers of the old religion
		if = {
			limit = {
				any_scope_pop = {
					religion = scope:old_state_religion
				}
			}
			add_radicals = { #BUG radicals don't seem to be added
				religion = scope:old_state_religion
				value = 0.25
			}
		}
	}
	
	
	if = { #if the state was previously protestant or catholic decrease relations with the HRE and PAP
		limit = { 
			or = {
				root.scope:old_state_religion = rel:protestant
				root.scope:old_state_religion = rel:catholic
			}
		}
		change_relations = { 
			country = c:HRE 
			value = -150 
		}
		change_relations = { 
			country = c:PAP 
			value = -150 
		}
	}

}

#effects specific for converting to a certain religion
#follow the template below when adding a new religion to convert to
#br_swap_to_religionName_effect = {
# 	set_state_religion = rel:new_religion
# 	remaining effects
# }
#then add this effect to the ifelse statement in br_swap_religion_effect


br_swap_to_norse_effect = {
	set_state_religion = rel:br_religion_norse
	ig:ig_devout = {
		set_interest_group_name = ig_norse_priests
		remove_ideology = ideology_patriarchal
		add_ideology = ideology_norse_clergy
	}
	if = {
		limit = {
			any_scope_pop = { 
				religion = rel:catholic 
			}
		}
		add_radicals = {
			religion = rel:catholic
			value = 0.25
		}
	}
}


## Journal completion and failure effects
# br_religion_swap_succes_effect = {
# 	remove_modifier = br_modifier_swapping_religion
# 	add_modifier = {
# 		name = br_modifier_swaped_religion_succesfully
# 		years = 5
# 	}
# 	trigger_event = {
# 		id = br_religion_swap_events.2
# 		popup = yes
# 	}
# }

br_religion_swap_failed_effect = {
	remove_modifier = br_modifier_swapping_religion
	add_modifier = {
		name = br_modifier_swaped_religion_failure
		years = 5
	}
	trigger_event = {
		id = br_religion_swap_events.3
		popup = yes
	}
}