eocfm_specific_country_setups_effect = {
	c:BYZ = {
		#add_modifier = modifier_eocfm_reformed_synod
		#add_modifier = modifier_eocfm_dissolved_monasteries

		#set_variable = eocfm_dissolved_monasteries
		#set_variable = eocfm_ruler_conversion_considered
		set_variable = eocfm_is_autocephalous
		eocfm_initialize_patriarchs_effect = yes # Greece is loadbearing too now bois
	}
	
	c:br_muscovy ?= {
		add_modifier = modifier_eocfm_reformed_synod
		set_variable = eocfm_is_autocephalous
	}

	c:br_aegypt ?= {
		set_variable = eocfm_is_autocephalous
	}

	c:ARM ?= {
		set_variable = eocfm_is_autocephalous
	}

	c:GEO ?= {
		set_variable = eocfm_is_autocephalous
	}

	c:SER ?= {
		set_variable = eocfm_is_autocephalous
	}

	c:br_elysium ?= {
		set_variable = eocfm_is_autocephalous
	}
}

eocfm_initialize_patriarchs_effect = {
	# Rome
	set_global_variable = {
		name = eocfm_rome_liturgical_rite_var
		value = 2 # Roman
	}
	
	# Santiago
	set_global_variable = {
		name = eocfm_santiago_liturgical_rite_var
		value = 2 # Roman
	}
	
	# Paris
	set_global_variable = {
		name = eocfm_paris_liturgical_rite_var
		value = 2 # Roman
	}
	
	# Koln
	set_global_variable = {
		name = eocfm_koln_liturgical_rite_var
		value = 2 # Roman
	}
	
	# Vienna
	set_global_variable = {
		name = eocfm_vienna_liturgical_rite_var
		value = 2 # Roman
	}
	
	# Constantinople
	create_character = {
		template = template_eocfm_constantinople_patriarch
		first_name = "Neophytus"
		last_name = "Neophytus"
		culture = cu:greek
		on_created = {
			place_character_in_void = 180 # 15 year shelf life
		}
	}
	set_global_variable = {
		name = eocfm_constantinople_liturgical_rite_var
		value = 1 # Byzantine
	}

	# Antioch
	create_character = {
		template = template_eocfm_antioch_patriarch
		first_name = "Sylvester"
		last_name = "Dabbas"
		culture = cu:greek
		on_created = {
			place_character_in_void = 180 # 15 year shelf life
		}
	}
	set_global_variable = {
		name = eocfm_antioch_liturgical_rite_var
		value = 1 # Byzantine
	}
	
	# Jerusalem
	create_character = {
		template = template_eocfm_jerusalem_patriarch
		first_name = "Parthenius"
		last_name = "Parthenius"
		culture = cu:greek
		on_created = {
			place_character_in_void = 180 # 15 year shelf life
		}
	}
	set_global_variable = {
		name = eocfm_jerusalem_liturgical_rite_var
		value = 1 # Byzantine
	}
	
	# Alexandria
	create_character = {
		template = template_eocfm_alexandria_patriarch
		first_name = "Kosmas"
		last_name = "Kosmas"
		culture = cu:greek
		on_created = {
			place_character_in_void = 180 # 15 year shelf life
		}
	}
	set_global_variable = {
		name = eocfm_alexandria_liturgical_rite_var
		value = 1 # Byzantine
	}
	
	# Moscow
	create_character = {
		template = template_eocfm_moscow_patriarch
		first_name = "Theophan"
		last_name = "Theophan"
		culture = cu:russian
		on_created = {
			place_character_in_void = 180 # 15 year shelf life
		}
	}
	set_global_variable = {
		name = eocfm_moscow_liturgical_rite_var
		value = 6 # Russian
	}
	
	## Oriental Orthodox Churches
	# Coptic Alexandria
	set_global_variable = {
		name = eocfm_coptic_alexandria_liturgical_rite_var
		value = 3 # Coptic
	}
	
	# Syriac Antioch
	set_global_variable = {
		name = eocfm_syriac_antioch_liturgical_rite_var
		value = 5 # Syro-Antiochian
	}
	
	# Armenia
	set_global_variable = {
		name = eocfm_etchmiadzin_liturgical_rite_var
		value = 4 # Armenian
	}
	
	# Addis Ababa
	set_global_variable = {
		name = eocfm_addis_ababa_liturgical_rite_var
		value = 3 # Coptic
	}
	
	# Konak
	set_global_variable = {
		name = eocfm_konak_liturgical_rite_var
		value = 7 # Nestorian
	}
	
	## Elysian Orthodox Churches
	# Elysium
	create_character = {
		template = template_eocfm_mixtec_patriarch
		culture = cu:greek
		on_created = {
			place_character_in_void = 180 # 15 year shelf life
		}
	}
	set_global_variable = {
		name = eocfm_elysium_liturgical_rite_var
		value = 101 # Elysian
	}
	
	# Mixtec
	create_character = {
		template = template_eocfm_mixtec_patriarch
		culture = cu:mixtec
		on_created = {
			place_character_in_void = 180 # 15 year shelf life
		}
	}
	set_global_variable = {
		name = eocfm_mixtec_liturgical_rite_var
		value = 102 # Mixtec
=======
ï»¿eocfm_update_elysium_effect = {
	# First, try to find the character in the void
	if = {
		limit = {
			any_character_in_void = {
				has_template = template_eocfm_elysium_patriarch
			}
		}
		random_character_in_void = {
			limit = {
				has_template = template_eocfm_elysium_patriarch
			}
			save_scope_as = eocfm_elysium_patriarch_scope
		}
	}
	# Failing that, generate a new character
	else = {
		# Attempt to generate using the elysium controller
		if = {
			limit = {
				any_country = {
					has_variable = eocfm_controls_elysium
					eocfm_is_christian_trigger = yes
				}
			}
			random_country = {
				limit = {
					has_variable = eocfm_controls_elysium
				}
				create_character = {
					template = template_eocfm_elysium_patriarch
					on_created = {
						place_character_in_void = 180 # 15 year shelf life
					}
				}
			}
		}
		# Fallback to Elysian Orthodox
		else = {
			create_character = {
				template = template_eocfm_elysium_patriarch
				culture = cu:
				religion = rel:
				on_created = {
					place_character_in_void = 180 # 15 year shelf life
				}
			}
		}
		# Update Relations Variables
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			if = {
				limit = {
					NOT = {
						has_variable = eocfm_elysium_relations_var
					}
				}
				set_variable = {
					name = eocfm_elysium_relations_var
					value = 0
				}
			}
			change_variable = {
				name = eocfm_elysium_relations_var
				add = -25
			}
			clamp_variable = {
				name = eocfm_elysium_relations_var
				min = 0
				max = 50
			}
			post_notification = notification_eocfm_elysium_replaced
		}
		# Save the new character
		random_character_in_void = {
			limit = {
				has_template = template_eocfm_elysium_patriarch
			}
			save_scope_as = eocfm_elysium_patriarch_scope
		}
	}
	# Finally, set the new variable
	set_variable = {
		name = eocfm_elysium_patriarch_var
		value = scope:eocfm_elysium_patriarch_scope
	}
}

eocfm_update_mixtec_effect = {
	# First, try to find the character in the void
	if = {
		limit = {
			any_character_in_void = {
				has_template = template_eocfm_mixtec_patriarch
			}
		}
		random_character_in_void = {
			limit = {
				has_template = template_eocfm_mixtec_patriarch
			}
			save_scope_as = eocfm_mixtec_patriarch_scope
		}
	}
	# Failing that, generate a new character
	else = {
		# Attempt to generate using the mixtec controller
		if = {
			limit = {
				any_country = {
					has_variable = eocfm_controls_mixtec
					eocfm_is_christian_trigger = yes
				}
			}
			random_country = {
				limit = {
					has_variable = eocfm_controls_mixtec
				}
				create_character = {
					template = template_eocfm_mixtec_patriarch
					on_created = {
						place_character_in_void = 180 # 15 year shelf life
					}
				}
			}
		}
		# Fallback to Mixtec Elysian Orthodox
		else = {
			create_character = {
				template = template_eocfm_mixtec_patriarch
				culture = cu:
				religion = rel:
				on_created = {
					place_character_in_void = 180 # 15 year shelf life
				}
			}
		}
		# Update Relations Variables
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			if = {
				limit = {
					NOT = {
						has_variable = eocfm_mixtec_relations_var
					}
				}
				set_variable = {
					name = eocfm_mixtec_relations_var
					value = 0
				}
			}
			change_variable = {
				name = eocfm_mixtec_relations_var
				add = -25
			}
			clamp_variable = {
				name = eocfm_mixtec_relations_var
				min = 0
				max = 50
			}
			post_notification = notification_eocfm_mixtec_replaced
		}
		# Save the new character
		random_character_in_void = {
			limit = {
				has_template = template_eocfm_mixtec_patriarch
			}
			save_scope_as = eocfm_mixtec_patriarch_scope
		}
	}
	# Finally, set the new variable
	set_variable = {
		name = eocfm_mixtec_patriarch_var
		value = scope:eocfm_mixtec_patriarch_scope
	}
}

eocfm_update_cahokia_effect = {
	# First, try to find the character in the void
	if = {
		limit = {
			any_character_in_void = {
				has_template = template_eocfm_cahokia_patriarch
			}
		}
		random_character_in_void = {
			limit = {
				has_template = template_eocfm_cahokia_patriarch
			}
			save_scope_as = eocfm_cahokia_patriarch_scope
		}
	}
	# Failing that, generate a new character
	else = {
		# Attempt to generate using the Cahokia controller
		if = {
			limit = {
				any_country = {
					has_variable = eocfm_controls_cahokia
					eocfm_is_christian_trigger = yes
				}
			}
			random_country = {
				limit = {
					has_variable = eocfm_controls_cahokia
				}
				create_character = {
					template = template_eocfm_cahokia_patriarch
					on_created = {
						place_character_in_void = 180 # 15 year shelf life
					}
				}
			}
		}
		# Fallback to Illiniwek Elysian Orthodox 
		else = {
			create_character = {
				template = template_eocfm_cahokia_patriarch
				culture = cu:
				religion = rel:
				on_created = {
					place_character_in_void = 180 # 15 year shelf life
				}
			}
		}
		# Update Relations Variables
		every_country = {
			limit = {
				eocfm_is_christian_trigger = yes
			}
			if = {
				limit = {
					NOT = {
						has_variable = eocfm_cahokia_relations_var
					}
				}
				set_variable = {
					name = eocfm_cahokia_relations_var
					value = 0
				}
			}
			change_variable = {
				name = eocfm_cahokia_relations_var
				add = -25
			}
			clamp_variable = {
				name = eocfm_cahokia_relations_var
				min = 0
				max = 50
			}
			post_notification = notification_eocfm_cahokia_replaced
		}
		# Save the new character
		random_character_in_void = {
			limit = {
				has_template = template_eocfm_cahokia_patriarch
			}
			save_scope_as = eocfm_cahokia_patriarch_scope
		}
	}
	# Finally, set the new variable
	set_variable = {
		name = eocfm_cahokia_patriarch_var
		value = scope:eocfm_cahokia_patriarch_scope
	}
}