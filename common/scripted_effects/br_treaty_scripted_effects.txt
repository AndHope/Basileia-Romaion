###
### support_independence
###
# How to use "br_create_supporting_independence_treaty_scripted_effect"
# br_create_supporting_independence_treaty_scripted_effect = {
# 	INITIATOR_COUNTRY = scope:country
# 	TARGET_COUNTRY = scope:country_2
# 	DURATION = 25 #years
# }

br_create_supporting_independence_treaty_scripted_effect = {
 	create_treaty = {
		first_country = $INITIATOR_COUNTRY$
		second_country = $TARGET_COUNTRY$

		is_draft = no
		binding_period = { years = $DURATION$ }

		articles_to_create = {
			{ # support_independence
				article = support_independence
				source_country = $INITIATOR_COUNTRY$
				target_country = $TARGET_COUNTRY$
			}
		}
	}
}

br_create_mutual_supporting_independence_treaty_scripted_effect = {
 	create_treaty = {
		first_country = $INITIATOR_COUNTRY$
		second_country = $TARGET_COUNTRY$

		is_draft = no
		binding_period = { years = $DURATION$ }

		articles_to_create = {
			{ # support_independence
				article = support_independence
				source_country = $INITIATOR_COUNTRY$
				target_country = $TARGET_COUNTRY$
			}
			{ # support_independence
				article = support_independence
				source_country = $TARGET_COUNTRY$
				target_country = $INITIATOR_COUNTRY$
			}
		}
	}
}


###
### foreign_investment_rights
###

br_create_mutual_investment_rights_treaty_scripted_effect = {
 	create_treaty = {
		first_country = $INITIATOR_COUNTRY$
		second_country = $TARGET_COUNTRY$

		is_draft = no
		binding_period = { years = $DURATION$ }

		articles_to_create = {
			{ # foreign_investment_rights
				article = foreign_investment_rights
				source_country = $INITIATOR_COUNTRY$
				target_country = $TARGET_COUNTRY$
			}
			{ # foreign_investment_rights
				article = foreign_investment_rights
				source_country = $TARGET_COUNTRY$
				target_country = $INITIATOR_COUNTRY$
			}
		}
	}
}

br_create_grant_investment_rights_treaty_scripted_effect = {
 	create_treaty = {
		first_country = $INITIATOR_COUNTRY$
		second_country = $TARGET_COUNTRY$

		is_draft = no
		binding_period = { years = $DURATION$ }

		articles_to_create = {
			{ # foreign_investment_rights
				article = foreign_investment_rights
				source_country = $INITIATOR_COUNTRY$
				target_country = $TARGET_COUNTRY$
			}
		}
	}
}

br_create_recieve_investment_rights_treaty_scripted_effect = {
	#inverted grant_investment_rights
 	br_create_grant_investment_rights_treaty_scripted_effect = {
		INITIATOR_COUNTRY = $TARGET_COUNTRY$
		TARGET_COUNTRY = $INITIATOR_COUNTRY$
		DURATION = $DURATION$
	}
}


#######################################################################################
###
### Diplomatic pacts effects
###
#######################################################################################
#removes a subject type diplomatic pact between the root scope (a country) and the argument 'country'
br_remove_diplomatic_pact_subject = {
	if = {
		limit = {
			has_diplomatic_pact = {
				who = $country$
				type = protectorate
			}
		}
		remove_diplomatic_pact = {
			country = $country$
			type = protectorate
		}
	}
	else_if = {
		limit = {
			has_diplomatic_pact = {
				who = $country$
				type = puppet
			}
		}
		remove_diplomatic_pact = {
			country = $country$
			type = puppet
		}
	}
	else_if = {
		limit = {
			has_diplomatic_pact = {
				who = $country$
				type = dominion
			}
		}
		remove_diplomatic_pact = {
			country = $country$
			type = dominion
		}
	}
	else_if = {
		limit = {
			has_diplomatic_pact = {
				who = $country$
				type = personal_union
			}
		}
		remove_diplomatic_pact = {
			country = $country$
			type = personal_union
		}
	}
	else_if = {
		limit = {
			has_diplomatic_pact = {
				who = $country$
				type = vassal
			}
		}
		remove_diplomatic_pact = {
			country = $country$
			type = vassal
		}
	}
	else_if = {
		limit = {
			has_diplomatic_pact = {
				who = $country$
				type = tributary
			}
		}
		remove_diplomatic_pact = {
			country = $country$
			type = tributary
		}
	}
	else_if = {
		limit = {
			has_diplomatic_pact = {
				who = $country$
				type = colony
			}
		}
		remove_diplomatic_pact = {
			country = $country$
			type = colony
		}
	}
	else_if = {
		limit = {
			has_diplomatic_pact = {
				who = $country$
				type = chartered_company
			}
		}
		remove_diplomatic_pact = {
			country = $country$
			type = chartered_company
		}
	}
}
