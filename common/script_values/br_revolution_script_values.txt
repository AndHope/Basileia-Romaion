#Scripted effect for the Revolutions JE

br_impending_revolution_pulse_event_cooldown_length = 60

#estate_types (used for creating structs)
br_1de_estate_type = 1
br_2de_estate_type = 2
br_3de_estate_type = 3

#quantitative_indicator
br_small = 2
br_medium = 2
br_large = 2
br_unspecified = 4

#increases in revolutionary tension
br_small_increase_in_revolutulionary_tension_value = 2
br_medium_increase_in_revolutulionary_tension_value = 4
br_large_increase_in_revolutulionary_tension_value = 6

#increases in estate disatisfaction
br_small_increase_in_estate_disatisfaction_value = 2
br_medium_increase_in_estate_disatisfaction_value = 4
br_large_increase_in_estate_disatisfaction_value = 6

#timeout values
br_small_timeout_duration_value = 50
br_medium_timeout_duration_value = 200
br_large_timeout_duration_value = 600


br_impending_revolution_radicals_threshold = 0.5
br_impending_revolution_loyalist_threshold = 0.5

#br_impending_revolution_radicals_threshold as a percentage
br_impending_revolution_radicals_threshold_percentage = {
	value = br_impending_revolution_radicals_threshold

	multiply = 100
}

#br_impending_revolution_loyalist_threshold as a percentage
br_impending_revolution_loyalist_threshold_percentage = {
	value = br_impending_revolution_loyalist_threshold

	multiply = 100
}

br_impending_revolution_radicals_change_revoluion_progress_value = 1 #increase revolution progress
br_impending_revolution_loyalist_change_revoluion_progress_value = -1 #decrease revolution progress

br_impending_revolution_food_security_threshold = 0.3
br_impending_revolution_food_security_population_percentage_threshold = 0.5

br_impending_revolution_bandit_turmoil_threshold = 0.2
br_impending_revolution_bandit_nr_states_threshold = 1

br_impending_revolution_militia_formation_revolution_progress_threshold = 70
br_impending_revolution_militia_formation_3de_estate_disatisfaction_threshold = 70

br_impending_revolution_arms_depots_raided_revolution_progress_threshold = 70
br_impending_revolution_arms_depots_raided_3de_estate_disatisfaction_threshold = 70


## Monarchy popularity Values ##
br_monarchy_popularity_max_value = 100
br_monarchy_popularity_min_value = -100
br_monarchy_popularity_change_value = {
	value = 0
	
	## SOURCES ##
	if = {
		limit = {
			OR = {
				has_law = law_type:law_wealth_voting
				has_law = law_type:law_census_voting
				has_law = law_type:law_universal_suffrage
			}
		}
		add = {
			value = 0.5
			desc = grefm_value_from_voting
		}
	}
	add = {
		value = {
			if = {
				limit = {
					has_variable = balkfm_land_reform_complete
				}
				add = 0.5
			}
			if = {
				limit = {
					has_variable = balkfm_brigandage_complete
				}
				add = 0.5
			}
			if = {
				limit = {
					has_variable = balkfm_civic_reform_complete
				}
				add = 0.5
			}
		}
		desc = grefm_value_from_completed_legacies
	}
	if = {
		limit = {
			has_modifier = modifier_grefm_nikitas_released
		}
		add = {
			value = 1
			desc = grefm_value_from_turkeater_unleashed
		}
	}
	if = {
		limit = {
			owns_entire_state_region = STATE_ATTICA
			s:STATE_ATTICA = {
				has_building = gbbf_building_palaia_anaktora
			}
		}
		add = {
			value = 1
			desc = grefm_value_from_royal_palace
		}
	}
	
	## PENALTIES ##
	if = {
		limit = {
			NOR = {
				has_variable = grefm_bavarocracy_secured
				has_law = law_type:law_wealth_voting
				has_law = law_type:law_census_voting
				has_law = law_type:law_universal_suffrage
			}
		}
		subtract = {
			value = 1
			desc = grefm_value_from_no_voting
		}
	}
	if = {
		limit = {
			NOT = {
				has_variable = balkfm_land_reform_complete
			}
		}
		subtract = {
			value = 1
			desc = grefm_value_from_land_reform
		}
	}
	if = {
		limit = {
			NOT = {
				has_variable = balkfm_brigandage_complete
			}
		}
		subtract = {
			value = 1
			desc = grefm_value_from_brigandage_completed
		}
	}
	if = {
		limit = {
			NOT = {
				has_variable = balkfm_civic_reform_complete
			}
		}
		subtract = {
			value = 1
			desc = grefm_value_from_civic_tradition
		}
	}
	if = {
		limit = {
			has_modifier = modifier_grefm_bavarian_auxiliaries
		}
		subtract = {
			value = 1
			desc = grefm_value_from_bavarian_auxiliaries
		}
	}
	if = {
		limit = {
			OR = {
				NOT = {
					exists = heir
				}
				heir ?= {
					has_template = template_grefm_armansperg_josef
				}
			}
		}
		subtract = {
			value = 1
			desc = grefm_value_from_lacking_heir
		}
	}
	
	round_to = 0.01
}


### Estate values ###
br_1de_estate_disatisfaction_to_revolution_progress_multiplier = 0.1
br_2de_estate_disatisfaction_to_revolution_progress_multiplier = 0.1
br_3de_estate_disatisfaction_to_revolution_progress_multiplier = 0.1