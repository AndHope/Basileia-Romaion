###############################
# Revolution looms JE effects #
###############################

#by Smekens

##############################################
#Script Values for je_hre_impending_revolution
##############################################

#######################################################################################
###
### Cooldown Script Values
###
#######################################################################################
#timeout values
br_small_timeout_duration_value = 60
br_medium_timeout_duration_value = 200
br_large_timeout_duration_value = 600

#The time you have to complete the je_hre_impending_revolution
br_impending_revolution_timeout = 18250  #50 years
br_impending_revolution_pulse_event_cooldown_length = br_small_timeout_duration_value	#in days
#The cooldown of the JE pulse events (pulse events are events that are triggered on a monthly pulse)
br_impending_revolution_specific_pulse_event_cooldown_length = 12	#in months


#######################################################################################
###
### Scripted progressbar Script Values
###
#######################################################################################
### Extrema values of the Scripted progressbars
#For some reason I can't give a scripted value or a variable as the min or max value of a scripted progress bars so for now these don't work, (but keep them in case pdx fixes this)
#they can also still be used else where
##br_hre_impending_revolution_progress_bar
br_hre_impending_revolution_progress_bar_max_value = 1000	#represents a percentage
br_hre_impending_revolution_progress_bar_min_value = 0
br_hre_impending_revolution_progress_bar_start_value = br_hre_impending_revolution_progress_bar_min_value
##br_hre_impending_revolution_1de_estate_progress_bar
br_hre_impending_revolution_1de_estate_progress_bar_max_value = 1000		#represents a percentage
br_hre_impending_revolution_1de_estate_progress_bar_min_value = 0
br_hre_impending_revolution_1de_estate_progress_bar_start_value = br_hre_impending_revolution_1de_estate_progress_bar_min_value
##br_hre_impending_revolution_2de_estate_progress_bar
br_hre_impending_revolution_2de_estate_progress_bar_max_value = 1000		#represents a percentage
br_hre_impending_revolution_2de_estate_progress_bar_min_value = 0
br_hre_impending_revolution_2de_estate_progress_bar_start_value = br_hre_impending_revolution_2de_estate_progress_bar_min_value
##br_hre_impending_revolution_3de_estate_progress_bar
br_hre_impending_revolution_3de_estate_progress_bar_max_value = 1000		#represents a percentage
br_hre_impending_revolution_3de_estate_progress_bar_min_value = 0
br_hre_impending_revolution_3de_estate_progress_bar_start_value = br_hre_impending_revolution_3de_estate_progress_bar_min_value

##
### Monthly pulse values of the Scripted progressbars
##
#Monthly change in estate dissatisfaction is in it's own category.

#Change progressbar value if you have a certain percentage of loyalists.
#You can adjust the multiplier to change the dissatisfaction change.
br_impending_revolution_progress_bar_loyalist_multiplier = 1
#br_impending_revolution_loyalist_threshold as a percentage, (for loc purposes)
br_impending_revolution_loyalist_percentage_as_integer = {
	value = var:br_percentage_of_loyalists_var

	multiply = 100
}

#Change progressbar value if you have a certain percentage of radicals.
#You can adjust the multiplier to change the dissatisfaction change.
br_impending_revolution_progress_bar_radicals_multiplier = 1
#br_impending_revolution_radicals_threshold as a percentage, (for loc purposes)
br_impending_revolution_radicals_percentage_as_integer = {
	value = var:br_percentage_of_radicals_var

	multiply = 100
}


#######################################################################################
###
### JE pulse event trigger Script Values
###
#######################################################################################
#threshold values for the JE pulse events that will determine when the event can trigger
#hre_revolution_events.5
br_impending_revolution_food_security_threshold = 0.3
br_impending_revolution_food_security_population_percentage_threshold = 0.5

#hre_revolution_events.6
br_impending_revolution_bandit_turmoil_threshold = 0.2
br_impending_revolution_bandit_nr_states_threshold = 1

#hre_revolution_events.7
br_impending_revolution_militia_formation_revolution_progress_threshold = 700
br_impending_revolution_militia_formation_3de_estate_dissatisfaction_threshold = 700

#hre_revolution_events.8
br_impending_revolution_arms_depots_raided_revolution_progress_threshold = 700
br_impending_revolution_arms_depots_raided_3de_estate_dissatisfaction_threshold = 700

#hre_revolution_events.10
br_impending_revolution_divine_right_denied_revolution_progress_threshold = 700
br_impending_revolution_divine_right_denied_1de_estate_dissatisfaction_threshold = 700

#hre_revolution_events.11
br_impending_revolution_whispers_of_a_new_monarch_revolution_progress_threshold = 700
br_impending_revolution_whispers_of_a_new_monarch_2de_estate_dissatisfaction_threshold = 700

#hre_revolution_events.401
#The min amount of days the JE age should have before this event can trigger, (in days).
br_impending_revolution_enlightenment_idea_chuch_and_state_separated_min_je_age = 8250	#about 23 years


#######################################################################################
###
### Revolutionary tension template values
###
#######################################################################################
#increases in revolutionary tension
br_small_increase_in_revolutionary_tension_value = 2
br_medium_increase_in_revolutionary_tension_value = 4
br_large_increase_in_revolutionary_tension_value = 6
#decreases in revolutionary tension
br_small_decrease_in_revolutionary_tension_value = -2
br_medium_decrease_in_revolutionary_tension_value = -4
br_large_decrease_in_revolutionary_tension_value = -6

#the percentage of estate dissatisfaction that is converted in montly revolution progress, (a multiplier of 0 means nothing is converted)
br_1de_estate_dissatisfaction_to_revolution_progress_multiplier = 0.1
br_2de_estate_dissatisfaction_to_revolution_progress_multiplier = 0.1
br_3de_estate_dissatisfaction_to_revolution_progress_multiplier = 0.01


#######################################################################################
###
### Estate dissatisfaction template values
###
#######################################################################################
#These values are base template values to standardize the changes in dissatisfaction
#increases in estate dissatisfaction
br_small_increase_in_estate_dissatisfaction_value = 2
br_medium_increase_in_estate_dissatisfaction_value = 4
br_large_increase_in_estate_dissatisfaction_value = 6
br_enormous_increase_in_estate_dissatisfaction_value = 50
#decreases in estate dissatisfaction
br_small_decrease_in_estate_dissatisfaction_value = -2
br_medium_decrease_in_estate_dissatisfaction_value = -4
br_large_decrease_in_estate_dissatisfaction_value = -6
br_enormous_decrease_in_estate_dissatisfaction_value = -50


#######################################################################################
###
### Estate Script Values
###
#######################################################################################
#estate_types (used for creating structs)
#These are used in the CMF structs that represent the estates
br_1de_estate_type = 1
br_2de_estate_type = 2
br_3de_estate_type = 3

### Monthly change in estate dissatisfaction values
#These are that values with which the dissatisfaction of an estate will change every month.
##1de estate values
#Having modifiers values
br_impending_revolution_has_special_chruch_rights_change_in_1de_estate_dissatisfaction_value = br_small_decrease_in_estate_dissatisfaction_value
br_impending_revolution_has_require_oath_of_loyalty_from_priests_change_in_1de_estate_dissatisfaction_value = br_large_increase_in_estate_dissatisfaction_value
#Feudalism laws values
br_impending_revolution_has_feudalism_enforced_change_in_1de_estate_dissatisfaction_value = br_small_decrease_in_estate_dissatisfaction_value
br_impending_revolution_has_feudalism_codified_change_in_1de_estate_dissatisfaction_value = br_small_decrease_in_estate_dissatisfaction_value
br_impending_revolution_has_feudalism_not_enforced_change_in_1de_estate_dissatisfaction_value = br_small_increase_in_estate_dissatisfaction_value
br_impending_revolution_has_feudalism_affirmative_action_change_in_1de_estate_dissatisfaction_value = br_small_increase_in_estate_dissatisfaction_value
#Chruch and State laws effect
br_impending_revolution_has_state_religion_change_in_1de_estate_dissatisfaction_value = br_small_decrease_in_estate_dissatisfaction_value
br_impending_revolution_has_freedom_of_conscience_change_in_1de_estate_dissatisfaction_value = br_small_increase_in_estate_dissatisfaction_value
br_impending_revolution_has_total_separation_change_in_1de_estate_dissatisfaction_value = br_medium_increase_in_estate_dissatisfaction_value
br_impending_revolution_has_state_atheism_change_in_1de_estate_dissatisfaction_value = br_large_increase_in_estate_dissatisfaction_value
#Education laws effect
br_impending_revolution_has_no_schools_change_in_1de_estate_dissatisfaction_value = 0
br_impending_revolution_has_religious_schools_change_in_1de_estate_dissatisfaction_value = br_small_decrease_in_estate_dissatisfaction_value
br_impending_revolution_has_private_schools_change_in_1de_estate_dissatisfaction_value = br_medium_increase_in_estate_dissatisfaction_value
br_impending_revolution_has_public_schools_change_in_1de_estate_dissatisfaction_value = br_large_increase_in_estate_dissatisfaction_value

##2de estate values
#Having modifiers values
br_impending_revolution_has_new_noble_titles_change_in_2de_estate_dissatisfaction_value = br_small_decrease_in_estate_dissatisfaction_value
br_impending_revolution_has_bourgeois_ministers_change_in_2de_estate_dissatisfaction_value = br_large_increase_in_estate_dissatisfaction_value
#Feudalism laws values
br_impending_revolution_has_feudalism_enforced_change_in_2de_estate_dissatisfaction_value = br_large_decrease_in_estate_dissatisfaction_value
br_impending_revolution_has_feudalism_codified_change_in_2de_estate_dissatisfaction_value = br_large_decrease_in_estate_dissatisfaction_value
br_impending_revolution_has_feudalism_not_enforced_change_in_2de_estate_dissatisfaction_value = br_large_increase_in_estate_dissatisfaction_value
br_impending_revolution_has_feudalism_affirmative_action_change_in_2de_estate_dissatisfaction_value = br_large_increase_in_estate_dissatisfaction_value
#Voting laws values
br_impending_revolution_not_has_autocracy_or_oligarchy_change_in_2de_estate_dissatisfaction_value = br_large_increase_in_estate_dissatisfaction_value
#Bureaucracy laws values
br_impending_revolution_has_hereditary_bureaucrats_change_in_2de_estate_dissatisfaction_value = 0
br_impending_revolution_has_appointed_bureaucrats_change_in_2de_estate_dissatisfaction_value = br_small_increase_in_estate_dissatisfaction_value
br_impending_revolution_has_elected_bureaucrats_change_in_2de_estate_dissatisfaction_value = br_large_increase_in_estate_dissatisfaction_value

##3de estate values
#Having modifiers values
br_impending_revolution_has_reduced_land_taxes_change_in_3de_estate_dissatisfaction_value = br_large_decrease_in_estate_dissatisfaction_value
br_impending_revolution_has_subsidize_food_distribution_change_in_3de_estate_dissatisfaction_value = br_medium_decrease_in_estate_dissatisfaction_value
br_impending_revolution_has_bourgeois_ministers_change_in_3de_estate_dissatisfaction_value = br_medium_decrease_in_estate_dissatisfaction_value
#Having enlightenment modifiers values
br_impending_revolution_not_has_chruch_and_state_should_be_separated_change_in_3de_estate_dissatisfaction_value = br_medium_decrease_in_estate_dissatisfaction_value
#Feudalism laws values
br_impending_revolution_has_feudalism_enforced_change_in_3de_estate_dissatisfaction_value = br_small_increase_in_estate_dissatisfaction_value
br_impending_revolution_has_feudalism_codified_change_in_3de_estate_dissatisfaction_value = br_small_increase_in_estate_dissatisfaction_value
br_impending_revolution_has_feudalism_not_enforced_change_in_3de_estate_dissatisfaction_value = br_large_decrease_in_estate_dissatisfaction_value
br_impending_revolution_has_feudalism_affirmative_action_change_in_3de_estate_dissatisfaction_value = br_large_decrease_in_estate_dissatisfaction_value
#Voting laws values
br_impending_revolution_has_a_law_that_allows_you_to_vote_change_in_3de_estate_dissatisfaction_value = br_large_decrease_in_estate_dissatisfaction_value
#Bureaucracy laws values
br_impending_revolution_has_hereditary_bureaucrats_change_in_3de_estate_dissatisfaction_value = br_small_increase_in_estate_dissatisfaction_value
br_impending_revolution_has_appointed_bureaucrats_change_in_3de_estate_dissatisfaction_value = 0
br_impending_revolution_has_elected_bureaucrats_change_in_3de_estate_dissatisfaction_value = br_small_decrease_in_estate_dissatisfaction_value
#Tax level values
br_impending_revolution_has_very_low_tax_level_change_in_3de_estate_dissatisfaction_value = br_medium_decrease_in_estate_dissatisfaction_value
br_impending_revolution_has_low_tax_level_change_in_3de_estate_dissatisfaction_value = br_small_decrease_in_estate_dissatisfaction_value
br_impending_revolution_has_medium_tax_level_change_in_3de_estate_dissatisfaction_value = br_small_increase_in_estate_dissatisfaction_value
br_impending_revolution_has_high_tax_level_change_in_3de_estate_dissatisfaction_value = br_medium_increase_in_estate_dissatisfaction_value
br_impending_revolution_has_very_high_tax_level_change_in_3de_estate_dissatisfaction_value = br_large_increase_in_estate_dissatisfaction_value


#######################################################################################
###
### Monarchy Popularity Script Values
###
#######################################################################################
## Monarchy popularity Values ##
br_monarchy_popularity_max_value = 100
br_monarchy_popularity_min_value = -100
#the percentage of monarchy popularity that is converted in monthly revolution progress or estate dissatisfaction, (a multiplier of 0 means nothing is converted)
br_monarchy_popularity_to_revolution_progress_multiplier = 0.01
br_monarchy_popularity_to_1de_estate_dissatisfaction_multiplier = 0	#currently does not change dissatisfaction
br_monarchy_popularity_to_2de_estate_dissatisfaction_multiplier = 0	#currently does not change dissatisfaction
br_monarchy_popularity_to_3de_estate_dissatisfaction_multiplier = 0.01

#monthly change in monarchy pomularity
br_monarchy_popularity_change_value = {
	value = 0
	
	## SOURCES ##
	if = {
		limit = {
			has_modifier = br_modifier_holy_roman_emperor
		}
		add = {
			value = 1
			desc = br_revolution_from_holy_roman_emperor_loc
		}
	}
	if = {
		limit = {
			has_modifier = modifier_statue_of_ruler
		}
		add = {
			value = 2
			desc = br_revolution_from_statue_of_ruler_loc
		}
	}
	if = {
		limit = {
			has_modifier = br_modifier_antiquated_regime
		}
		add = {
			value = -0.5
			desc = br_revolution_from_antiquated_regime_loc
		}
	}
	if = {
		limit = {
			has_modifier = br_modifier_unpopular_regime
		}
		add = {
			value = -1
			desc = br_revolution_from_unpopular_regime_loc
		}
	}
	if = {
		limit = {
			has_modifier = br_modifier_bourgeois_ministers
		}
		add = {
			value = 1
			desc = br_revolution_from_bourgeois_ministers_loc
		}
	}
	if = {
		limit = {
			has_variable = br_hre_impending_revolution_divine_right_denied_var
		}
		add = {
			value = -1
			desc = br_revolution_from_divine_right_denied_loc
		}
	}
	# if = {
	# 	limit = {
	# 		OR = {
	# 			has_law_or_variant = law_type:law_wealth_voting
	# 			has_law_or_variant = law_type:law_census_voting
	# 			has_law_or_variant = law_type:law_universal_suffrage
	# 		}
	# 	}
	# 	add = {
	# 		value = 0.5
	# 		desc = grefm_value_from_voting
	# 	}
	# }
	# add = {
	# 	value = {
	# 		if = {
	# 			limit = {
	# 				has_variable = balkfm_land_reform_complete
	# 			}
	# 			add = 0.5
	# 		}
	# 		if = {
	# 			limit = {
	# 				has_variable = balkfm_brigandage_complete
	# 			}
	# 			add = 0.5
	# 		}
	# 		if = {
	# 			limit = {
	# 				has_variable = balkfm_civic_reform_complete
	# 			}
	# 			add = 0.5
	# 		}
	# 	}
	# 	desc = grefm_value_from_completed_legacies
	# }
	# if = {
	# 	limit = {
	# 		has_modifier = modifier_grefm_nikitas_released
	# 	}
	# 	add = {
	# 		value = 1
	# 		desc = grefm_value_from_turkeater_unleashed
	# 	}
	# }
	# if = {
	# 	limit = {
	# 		owns_entire_state_region = STATE_ATTICA
	# 		s:STATE_ATTICA = {
	# 			has_building = gbbf_building_palaia_anaktora
	# 		}
	# 	}
	# 	add = {
	# 		value = 1
	# 		desc = grefm_value_from_royal_palace
	# 	}
	# }
	
	## PENALTIES ##
	# if = {
	# 	limit = {
	# 		NOR = {
	# 			has_variable = grefm_bavarocracy_secured
	# 			has_law_or_variant = law_type:law_wealth_voting
	# 			has_law_or_variant = law_type:law_census_voting
	# 			has_law_or_variant = law_type:law_universal_suffrage
	# 		}
	# 	}
	# 	subtract = {
	# 		value = 1
	# 		desc = grefm_value_from_no_voting
	# 	}
	# }
	# if = {
	# 	limit = {
	# 		NOT = {
	# 			has_variable = balkfm_land_reform_complete
	# 		}
	# 	}
	# 	subtract = {
	# 		value = 1
	# 		desc = grefm_value_from_land_reform
	# 	}
	# }
	# if = {
	# 	limit = {
	# 		NOT = {
	# 			has_variable = balkfm_brigandage_complete
	# 		}
	# 	}
	# 	subtract = {
	# 		value = 1
	# 		desc = grefm_value_from_brigandage_completed
	# 	}
	# }
	# if = {
	# 	limit = {
	# 		NOT = {
	# 			has_variable = balkfm_civic_reform_complete
	# 		}
	# 	}
	# 	subtract = {
	# 		value = 1
	# 		desc = grefm_value_from_civic_tradition
	# 	}
	# }
	# if = {
	# 	limit = {
	# 		has_modifier = modifier_grefm_bavarian_auxiliaries
	# 	}
	# 	subtract = {
	# 		value = 1
	# 		desc = grefm_value_from_bavarian_auxiliaries
	# 	}
	# }
	# if = {
	# 	limit = {
	# 		OR = {
	# 			NOT = {
	# 				exists = heir
	# 			}
	# 			heir ?= {
	# 				has_template = template_grefm_armansperg_josef
	# 			}
	# 		}
	# 	}
	# 	subtract = {
	# 		value = 1
	# 		desc = grefm_value_from_lacking_heir
	# 	}
	# }
	
	round_to = 0.01
}


#######################################################################################
###
### Scripted buttons values
###
#######################################################################################
## Values to identify which button belongs to which estate's actions or monarchy actions.
br_1de_estate_action_type = 1
br_2de_estate_action_type = 2
br_3de_estate_action_type = 3
br_monarchy_action_type = 4

#######################################################################################
###
### Enlightenment values
###
#######################################################################################
## The value with which enlightenment can be changed
br_basic_change_in_enlightenment_value = 1
#the percentage of enlightenment value that is converted in monthly estate dissatisfaction, (a multiplier of 0 means nothing is converted)
br_enlightenment_value_to_3de_estate_dissatisfaction_multiplier = 0.1


#######################################################################################
###
### je_hre_impending_revolution_reform Script Values
###
#######################################################################################
## Revolution reform monthly pulse values
#Will determine when food security is stable
br_impending_revolution_food_security_stablity_threshold = 0.75	#The amount of food_security a pop has to have for his food security to be stable
br_impending_revolution_min_food_security_population_percentage_threshold_for_stable_food_supply = 0.8	#The percentage of the population who's food security has to be stable

#Will determine when the regime is popular
#by checking if the current monarchy popularity is above this value
br_impending_revolution_monarchy_popularity_threshold_for_popular_regime = 80	#value from -100 - 100