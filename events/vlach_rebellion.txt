namespace = vlach_rebellion

vlach_rebellion.1 = {
	type = country_event
	placement = c:WAL.capital

	title = vlach_rebellion.1.t
	desc = vlach_rebellion.1.d
	flavor = vlach_rebellion.1.f

	duration = 3

	event_image = {
		video = "gfx/event_pictures/asia_sepoy_mutiny.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/sepoy_mutiny"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {   
	}
	immediate = {

		hidden_effect = {
			c:HUN = {
				create_diplomatic_pact = {
					country = c:WAL
					type = puppet
				}
				create_diplomatic_pact = {
					country = c:MOL
					type = puppet
				}
			}
			c:CRO = {
				annex = c:BOS
			}
		}

	}

	option = {
		name = vlach_rebellion.1.a
		default_option = yes

		create_diplomatic_play = {
			name = Vlach_Rebellion
			war = yes
			type = dp_humiliation

			target_state = s:STATE_CENTRAL_HUNGARY.region_state:HUN

			add_war_goal = {
				holder = c:BYZ
				type = make_exarchate
				target_country = c:MOL
			}
			add_war_goal = {
				holder = c:BYZ
				type = make_exarchate
				target_country = c:WAL
			}
			add_war_goal = {
				holder = c:BYZ
				type = make_exarchate
				target_country = c:CRO
			}
		}

		ai_chance = {
			base = 100
		}

	}
	option = {
		name = vlach_rebellion.1.b

	}

}
