namespace = anatolian_revolt

anatolian_revolt.1 = {
	type = country_event
	placement = c:br_anatolia.capital

	title = anatolian_revolt.1.t
	desc = anatolian_revolt.1.d
	flavor = anatolian_revolt.1.f

	duration = 3

	event_image = {
		video = "gfx/event_pictures/asia_sepoy_mutiny.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/sepoy_mutiny"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {   
	}
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = constantinople_scope
				owner = {
					save_scope_as = constantinople_owner_scope
				}
			}
		}
		if = {
			limit = {
				NOT = { exists = c:br_anatolia }
				exists = s:STATE_KONYA.region_state:BYZ
			}
			create_country = {
				tag = br_anatolia
				origin = c:BYZ
				state = s:STATE_KONYA.region_state:BYZ
			}
		}
		if = {
			limit = { exists = s:STATE_ALEPPO.region_state:BYZ }
			s:STATE_ALEPPO.region_state:BYZ = { set_state_owner = c:br_anatolia }
		}
		if = {
			limit = { exists = s:STATE_DIYARBAKIR.region_state:BYZ }
			s:STATE_DIYARBAKIR.region_state:BYZ = { set_state_owner = c:br_anatolia }
		}
		if = {
			limit = { exists = s:STATE_DIYARBAKIR.region_state:br_mesopotamia }
			s:STATE_DIYARBAKIR.region_state:br_mesopotamia = { set_state_owner = c:br_anatolia }
		}
		if = {
			limit = { exists = s:STATE_ADANA.region_state:BYZ }
			s:STATE_ADANA.region_state:BYZ = { set_state_owner = c:br_anatolia }
		}
		if = {
			limit = { exists = s:STATE_KONYA.region_state:BYZ }
			s:STATE_KONYA.region_state:BYZ = { set_state_owner = c:br_anatolia }
		}
		if = {
			limit = { exists = s:STATE_ANKARA.region_state:BYZ }
			s:STATE_ANKARA.region_state:BYZ = { set_state_owner = c:br_anatolia }
		}
		if = {
			limit = {
				NOT = {
					any_diplomatic_play = {
						any_scope_play_involved = { this = c:br_anatolia }
						any_scope_play_involved = { this = c:BYZ }
						#is_diplomatic_play_type = dp_annex_subject
					}
				}
			}

		}
		c:br_anatolia = {
			add_modifier = {
				name = romaioi_themata_primacy
				months = -1
			}
			activate_law = law_type:law_monarchy
			activate_law = law_type:law_oligarchy
			create_character = {
				first_name = "Bardas"
				last_name = "Phokas"
				birth_date = 1697.3.1 # excact date unknown. 
				culture = cu:greek
				ruler = yes
				is_general = yes
				religion = orthodox
				interest_group = ig_armed_forces
				ideology = ideology_jingoist_leader
				traits = { 
					stalwart_defender 
					wrathful
					scarred
					pillager
					resupply_commander
					experienced_offensive_planner
					experienced_artillery_commander 
				}
			}
			create_character = {
				birth_date = 1717.1.5 # excact date unknown. 
				first_name = "Nikephoros"
				last_name = "Phokas"
				culture = cu:greek
				is_general = yes
				heir = yes
				religion = orthodox
				interest_group = ig_landowners
				ideology = ideology_royalist
				traits = { 
					stalwart_defender
					resupply_commander 
					basic_political_operator 
					pillager
				}
			}
		}
	}

	option = {
		name = anatolian_revolt.1.a
		default_option = yes

		c:br_anatolia = {
			add_modifier = {
				name = war_for_independence
				months = normal_modifier_time
			}
		}

		scope:constantinople_owner_scope = {
			create_diplomatic_play = {
				name = anatolian_Rebellion
				target_country = c:br_anatolia
				type = dp_annex_subject #dp_secession
			}
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					scope:constantinople_owner_scope = {
						is_diplomatic_play_initiator = yes
					}
					c:br_anatolia = {
						is_diplomatic_play_target = yes
					}
				}
				add_diplomatic_play_war_support = { target = c:br_anatolia value = 100 }
			}
		}
		
		ai_chance = {
			base = 100
		}

		hidden_effect = {
			trigger_event = {
				id = romaion_emp_rally.1
				days = 7
			}
		}

	}
	option = {
		name = anatolian_revolt.1.b

		c:BYZ = {
			create_diplomatic_pact = {
				country = c:br_anatolia
				type = puppet
			}
			change_relations = {
				country = c:br_anatolia
				value = 50
			}
		}

	}

}

#Pontic Revolt

anatolian_revolt.2 = {
	type = country_event
	placement = c:br_anatolia.capital

	title = anatolian_revolt.2.t
	desc = anatolian_revolt.2.d
	flavor = anatolian_revolt.2.f

	duration = 3

	event_image = {
		video = "gfx/event_pictures/asia_sepoy_mutiny.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/asia/sepoy_mutiny"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	trigger = {   
	}
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = constantinople_scope
				owner = {
					save_scope_as = constantinople_owner_scope
				}
			}
		}
		if = {
			limit = {
				NOT = { exists = c:br_pontos }
				exists = s:STATE_TRABZON.region_state:BYZ
			}
			create_country = {
				tag = br_pontos
				origin = c:BYZ
				state = s:STATE_TRABZON.region_state:BYZ
			}
		}
		if = {
			limit = { exists = s:STATE_TRABZON.region_state:BYZ }
			s:STATE_TRABZON.region_state:BYZ = { set_state_owner = c:br_pontos }
		}
		if = {
			limit = { exists = s:STATE_TRABZON.region_state:br_trebizond }
			s:STATE_TRABZON.region_state:br_trebizond = { set_state_owner = c:br_pontos }
		}
		if = {
			limit = { exists = s:STATE_KASTAMONU.region_state:BYZ }
			s:STATE_KASTAMONU.region_state:BYZ = { set_state_owner = c:br_pontos }
		}
		if = {
			limit = {
				NOT = {
					any_diplomatic_play = {
						any_scope_play_involved = { this = c:br_pontos }
						any_scope_play_involved = { this = c:BYZ }
						#is_diplomatic_play_type = dp_annex_subject
					}
				}
			}

		}
		c:br_pontos = {
			add_modifier = {
				name = romaioi_themata_primacy
				months = -1
			}
			activate_law = law_type:law_monarchy
			activate_law = law_type:law_oligarchy
			create_character = {
				first_name = "John"
				last_name = "Komnenos"
				birth_date = 1697.3.1 # excact date unknown. 
				culture = cu:greek
				ruler = yes
				is_general = yes
				religion = orthodox
				interest_group = ig_armed_forces
				ideology = ideology_jingoist_leader
				traits = { 
					stalwart_defender 
					wrathful
					scarred
					pillager
					resupply_commander
					experienced_offensive_planner
					experienced_artillery_commander 
				}
			}
			create_character = {
				birth_date = 1717.1.5 # excact date unknown. 
				first_name = "Nikephoros"
				last_name = "Komnenos"
				culture = cu:greek
				is_general = yes
				heir = yes
				religion = orthodox
				interest_group = ig_landowners
				ideology = ideology_royalist
				traits = { 
					stalwart_defender
					resupply_commander 
					basic_political_operator 
					pillager
				}
			}
		}
	}

	option = {
		name = anatolian_revolt.2.a
		default_option = yes

		c:br_pontos = {
			add_modifier = {
				name = war_for_independence
				months = normal_modifier_time
			}
		}

		scope:constantinople_owner_scope = {
			create_diplomatic_play = {
				name = Pontic_Rebellion
				target_country = c:br_pontos
				type = dp_annex_subject #dp_secession
			}
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					scope:constantinople_owner_scope = {
						is_diplomatic_play_initiator = yes
					}
					c:br_pontos = {
						is_diplomatic_play_target = yes
					}
				}
				add_diplomatic_play_war_support = { target = c:br_pontos value = 100 }
			}
		}
		
		hidden_effect = {
			change_infamy = -15
			trigger_event = {
				id = romaion_emp_rally.1
				days = 7
			}
		}

		ai_chance = {
			base = 100
		}

	}
	option = {
		name = anatolian_revolt.2.b

		c:BYZ = {
			create_diplomatic_pact = {
				country = c:br_pontos
				type = puppet
			}
			change_relations = {
				country = c:br_pontos
				value = 50
			}
		}

	}

}